# mysql



### 索引 

#### Myisam

叶子节点存的物理地址

### innodb

**一定要有主键，主键为聚簇索引**

数据文件本身为索引文件，主键建立的聚簇索引

B+-树，都是左大右小，

B+树，两个节点之间有指针，子节点带指针左边的key，只有叶子节点带数据，叶子节点存放的完整数据

优化：B+树叶子节点有指针



select * from table where name =张三"
先到name的索引里去找，找到张三对应的叶子节点，叶子节点的data就是那一行的主键，id=15，然后再根据id=15，到数据文件里面的聚簇索引根据主键组织的索引根据 id=15去定位出来id=15这一行的完整的数据

所以这里就明白了一个道理,为啥innodb下不要用uuID生成的超长字符串作为主键?因为这么玩儿会导致所有的索引的data都是那个主键值，最终导致索引会变得过大，浪费很多磁盘空间。

还有一个道理，一般innodb,表里，建议统一用auto_increment自增值作为主键值，因为这样可以保持聚簇索引直接加记录就可以，如果用那种不是单调递增的主键值，可能会导致b+树分裂后重新组织，会浪费时间。l

### 最左前缀匹配原则

